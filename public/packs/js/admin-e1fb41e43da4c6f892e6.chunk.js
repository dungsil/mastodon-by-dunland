(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{518:function(e,t,l){"use strict";l.r(t);var c=l(0),a=(l(118),l(38)),n=l(54);const o=e=>{var t;const l=(null==e?void 0:e.value)&&(null==e||null==(t=e.validity)?void 0:t.valid),c=document.querySelector('input[type="datetime-local"]#announcement_ends_at');l?(c.classList.remove("optional"),c.required=!0,c.min=e.value):(c.classList.add("optional"),c.removeAttribute("required"),c.removeAttribute("min"))};Object(a.delegate)(document,'input[type="datetime-local"]#announcement_starts_at',"change",(e=>{let{target:t}=e;o(t)}));const r='.batch-checkbox input[type="checkbox"]',s=()=>{document.querySelector(".batch-table__select-all").classList.add("active")},d=()=>{const e=document.querySelector(".batch-table__select-all"),t=document.querySelector("#select_all_matching"),l=document.querySelector(".batch-table__select-all .selected"),c=document.querySelector(".batch-table__select-all .not-selected");e.classList.remove("active"),l.classList.remove("active"),c.classList.add("active"),t.value="0"};Object(a.delegate)(document,"#batch_checkbox_all","change",(e=>{let{target:t}=e;const l=document.querySelector(".batch-table__select-all");[].forEach.call(document.querySelectorAll(r),(e=>{e.checked=t.checked})),l&&(t.checked?s():d())})),Object(a.delegate)(document,".batch-table__select-all button","click",(()=>{const e=document.querySelector("#select_all_matching"),t="1"===e.value,l=document.querySelector(".batch-table__select-all .selected"),c=document.querySelector(".batch-table__select-all .not-selected");t?(e.value="0",l.classList.remove("active"),c.classList.add("active")):(e.value="1",c.classList.remove("active"),l.classList.add("active"))})),Object(a.delegate)(document,r,"change",(()=>{const e=document.querySelector("#batch_checkbox_all"),t=document.querySelector(".batch-table__select-all");e&&(e.checked=[].every.call(document.querySelectorAll(r),(e=>e.checked)),e.indeterminate=!e.checked&&[].some.call(document.querySelectorAll(r),(e=>e.checked)),t&&(e.checked?s():d()))})),Object(a.delegate)(document,".media-spoiler-show-button","click",(()=>{[].forEach.call(document.querySelectorAll("button.media-spoiler"),(e=>{e.click()}))})),Object(a.delegate)(document,".media-spoiler-hide-button","click",(()=>{[].forEach.call(document.querySelectorAll(".spoiler-button.spoiler-button--visible button"),(e=>{e.click()}))})),Object(a.delegate)(document,".filter-subset--with-select select","change",(e=>{let{target:t}=e;t.form.submit()}));const i=e=>{const t=document.querySelector(".input.with_label.domain_block_reject_media"),l=document.querySelector(".input.with_label.domain_block_reject_reports");t&&(t.style.display="suspend"===e.value?"none":"block"),l&&(l.style.display="suspend"===e.value?"none":"block")};Object(a.delegate)(document,"#domain_block_severity","change",(e=>{let{target:t}=e;return i(t)}));const u=e=>{const t=document.querySelector("#form_admin_settings_bootstrap_timeline_accounts");t&&(t.disabled=!e.checked,e.checked?(t.parentElement.classList.remove("disabled"),t.parentElement.parentElement.classList.remove("disabled")):(t.parentElement.classList.add("disabled"),t.parentElement.parentElement.classList.add("disabled")))};Object(a.delegate)(document,"#form_admin_settings_enable_bootstrap_timeline_accounts","change",(e=>{let{target:t}=e;return u(t)}));const m=e=>{const t="approved"===e.value;[].forEach.call(document.querySelectorAll("#form_admin_settings_require_invite_text"),(e=>{if(e.disabled=!t,t){let t=e;do{t.classList.remove("disabled"),t=t.parentElement}while(t&&!t.classList.contains("fields-group"))}else{let t=e;do{t.classList.add("disabled"),t=t.parentElement}while(t&&!t.classList.contains("fields-group"))}}))},b=e=>{const t=new Date(e+"Z"),l=e=>e.toString().padStart(2,"0");return`${t.getFullYear()}-${l(t.getMonth()+1)}-${l(t.getDate())}T${l(t.getHours())}:${l(t.getMinutes())}`};Object(a.delegate)(document,"#form_admin_settings_registrations_mode","change",(e=>{let{target:t}=e;return m(t)})),Object(n.default)((()=>{var e;const t=document.getElementById("domain_block_severity");t&&i(t);const n=document.getElementById("form_admin_settings_enable_bootstrap_timeline_accounts");n&&u(n);const r=document.getElementById("form_admin_settings_registrations_mode");r&&m(r),null==(e=document.querySelector("a#add-instance-button"))||e.addEventListener("click",(e=>{var t;const l=null==(t=document.getElementById("by_domain"))?void 0:t.value;if(l){const t=new URL(event.target.href);t.searchParams.set("_domain",l),e.target.href=t}})),[].forEach.call(document.querySelectorAll('input[type="datetime-local"]'),(e=>{e.value&&(e.value=b(e.value)),e.placeholder&&(e.placeholder=b(e.placeholder))})),Object(a.delegate)(document,"form","submit",(e=>{let{target:t}=e;[].forEach.call(t.querySelectorAll('input[type="datetime-local"]'),(e=>{e.value&&e.validity.valid&&(e.value=(e=>{const t=/^([0-9]{4,})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2})/.exec(e),l=new Date(t[1],t[2]-1,t[3],t[4],t[5]).toISOString();return l.slice(0,l.indexOf("T")+6)})(e.value))}))}));const s=document.querySelector('input[type="datetime-local"]#announcement_starts_at');s&&o(s);const d=l(1),_=l(33);[].forEach.call(document.querySelectorAll("[data-admin-component]"),(e=>{const t=e.getAttribute("data-admin-component"),{locale:a,...n}=JSON.parse(e.getAttribute("data-props"));l.e(155).then(l.bind(null,785)).then((o=>{let{default:r}=o;return l(523)("./"+t).then((t=>{let{default:l}=t;_.render(Object(c.a)(r,{locale:a},void 0,d.createElement(l,n)),e)}))})).catch((e=>{console.error(e)}))}))}))},523:function(e,t,l){var c={"./Counter":[513,0,1],"./Counter.js":[513,0,1],"./Dimension":[514,0,2],"./Dimension.js":[514,0,2],"./ReportReasonSelector":[515,0,3],"./ReportReasonSelector.js":[515,0,3],"./Retention":[516,0,4],"./Retention.js":[516,0,4],"./Trends":[517,0,5],"./Trends.js":[517,0,5]};function a(e){if(!l.o(c,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=c[e],a=t[0];return Promise.all(t.slice(1).map(l.e)).then((function(){return l(a)}))}a.keys=function(){return Object.keys(c)},a.id=523,e.exports=a}},[[518,0]]]);
//# sourceMappingURL=admin-e1fb41e43da4c6f892e6.chunk.js.map