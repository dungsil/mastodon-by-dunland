{"version":3,"sources":["webpack:///./app/javascript/mastodon/features/closed_registrations_modal/index.js"],"names":["ClosedRegistrationsModal","connect","state","message","getIn","ImmutablePureComponent","componentDidMount","dispatch","this","props","fetchServer","render","closedRegistrationsMessage","className","dangerouslySetInnerHTML","__html","id","defaultMessage","values","domain","href"],"mappings":"qMASG,IAGGA,EADUC,mBAJQC,IAAK,CAC3BC,QAASD,EAAME,MAAM,CAAC,SAAU,SAAU,gBAAiB,eAGrB,GAAzB,cACwBC,IAErCC,oBACE,MAAM,SAAEC,GAAaC,KAAKC,MAC1BF,EAASG,eAGXC,SACE,IAAIC,EAqBJ,OAlBEA,EADEJ,KAAKC,MAAMN,QAEX,iBACEU,UAAU,QACVC,wBAAyB,CAAEC,OAAQP,KAAKC,MAAMN,WAKhD,iBAAGU,UAAU,cAAO,EAClB,YAAC,IAAgB,CACfG,GAAG,yCACHC,eAAe,+JACfC,OAAQ,CAAEC,OAAQ,+BAASA,SAOjC,mBAAKN,UAAU,4CAAqC,EAClD,mBAAKA,UAAU,gCAAyB,EACtC,2BAAI,YAAC,IAAgB,CAACG,GAAG,mCAAmCC,eAAe,4BAC3E,0BACE,YAAC,IAAgB,CACfD,GAAG,sCACHC,eAAe,4KAKrB,mBAAKJ,UAAU,mCAA4B,EACzC,mBAAKA,UAAU,2CAAoC,EACjD,2BAAI,YAAC,IAAgB,CAACG,GAAG,mCAAmCC,eAAe,oBAC1EL,GAGH,mBAAKC,UAAU,2CAAoC,EACjD,2BAAI,YAAC,IAAgB,CAACG,GAAG,sCAAsCC,eAAe,2BAC9E,iBAAGJ,UAAU,cAAO,EAClB,YAAC,IAAgB,CACfG,GAAG,iDACHC,eAAe,oHAGnB,iBAAGG,KAAK,mCAAmCP,UAAU,6BAAsB,EAAC,YAAC,IAAgB,CAACG,GAAG,iDAAiDC,eAAe,gCAO5K","file":"js/modals/closed_registrations_modal-2f4fc9aef0b1256cb8b5.chunk.js","sourcesContent":["import React from 'react';\nimport { connect } from 'react-redux';\nimport { FormattedMessage } from 'react-intl';\nimport ImmutablePureComponent from 'react-immutable-pure-component';\nimport { domain } from 'mastodon/initial_state';\nimport { fetchServer } from 'mastodon/actions/server';\n\nconst mapStateToProps = state => ({\n  message: state.getIn(['server', 'server', 'registrations', 'message']),\n});\n\nexport default @connect(mapStateToProps)\nclass ClosedRegistrationsModal extends ImmutablePureComponent {\n\n  componentDidMount () {\n    const { dispatch } = this.props;\n    dispatch(fetchServer());\n  }\n\n  render () {\n    let closedRegistrationsMessage;\n\n    if (this.props.message) {\n      closedRegistrationsMessage = (\n        <p\n          className='prose'\n          dangerouslySetInnerHTML={{ __html: this.props.message }}\n        />\n      );\n    } else {\n      closedRegistrationsMessage = (\n        <p className='prose'>\n          <FormattedMessage\n            id='closed_registrations_modal.description'\n            defaultMessage='Creating an account on {domain} is currently not possible, but please keep in mind that you do not need an account specifically on {domain} to use Mastodon.'\n            values={{ domain: <strong>{domain}</strong> }}\n          />\n        </p>\n      );\n    }\n\n    return (\n      <div className='modal-root__modal interaction-modal'>\n        <div className='interaction-modal__lead'>\n          <h3><FormattedMessage id='closed_registrations_modal.title' defaultMessage='Signing up on Mastodon' /></h3>\n          <p>\n            <FormattedMessage\n              id='closed_registrations_modal.preamble'\n              defaultMessage='Mastodon is decentralized, so no matter where you create your account, you will be able to follow and interact with anyone on this server. You can even self-host it!'\n            />\n          </p>\n        </div>\n\n        <div className='interaction-modal__choices'>\n          <div className='interaction-modal__choices__choice'>\n            <h3><FormattedMessage id='interaction_modal.on_this_server' defaultMessage='On this server' /></h3>\n            {closedRegistrationsMessage}\n          </div>\n\n          <div className='interaction-modal__choices__choice'>\n            <h3><FormattedMessage id='interaction_modal.on_another_server' defaultMessage='On a different server' /></h3>\n            <p className='prose'>\n              <FormattedMessage\n                id='closed_registrations.other_server_instructions'\n                defaultMessage='Since Mastodon is decentralized, you can create an account on another server and still interact with this one.'\n              />\n            </p>\n            <a href='https://joinmastodon.org/servers' className='button button--block'><FormattedMessage id='closed_registrations_modal.find_another_server' defaultMessage='Find another server' /></a>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n};\n"],"sourceRoot":""}