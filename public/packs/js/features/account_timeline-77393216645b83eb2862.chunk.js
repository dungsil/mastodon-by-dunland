(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{793:function(t,e,a){"use strict";a.r(e),a.d(e,"default",(function(){return U}));var s,c,n=a(0),o=(a(1),a(13)),i=a(15),d=a.n(i),u=a(2),r=a.n(u),p=a(10),l=a(19),b=a(200),g=a(96),m=a(753),h=a(767),I=a(198),O=a(3),j=a(16),f=a(4),w=a(759),M=a(771),_=a(7),y=a(772),L=a(35),R=a(149),k=a(199);const v=Object(O.List)(),T=t=>{let{url:e}=t;return Object(n.a)(M.a,{url:e,resource:Object(n.a)(f.b,{id:"timeline_hint.resources.statuses",defaultMessage:"Older posts"})})};let U=Object(o.connect)(((t,e)=>{let{params:{acct:a,id:s,tagged:c},withReplies:n=!1}=e;const o=s||t.getIn(["accounts_map",Object(k.b)(a)]);if(!o)return{isLoading:!0,statusIds:v};const i=n?o+":with_replies":`${o}${c?":"+c:""}`;return{accountId:o,remote:!(t.getIn(["accounts",o,"acct"])===t.getIn(["accounts",o,"username"])),remoteUrl:t.getIn(["accounts",o,"url"]),isAccount:!!t.getIn(["accounts",o]),statusIds:t.getIn(["timelines","account:"+i,"items"],v),featuredStatusIds:n?Object(O.List)():t.getIn(["timelines",`account:${o}:pinned${c?":"+c:""}`,"items"],v),isLoading:t.getIn(["timelines","account:"+i,"isLoading"]),hasMore:t.getIn(["timelines","account:"+i,"hasMore"]),suspended:t.getIn(["accounts",o,"suspended"],!1),hidden:Object(L.b)(t,o),blockedBy:t.getIn(["relationships",o,"blocked_by"],!1)}}))(((c=class extends j.a{constructor(){super(...arguments),this.handleLoadMore=t=>{this.props.dispatch(Object(l.r)(this.props.accountId,{maxId:t,withReplies:this.props.withReplies,tagged:this.props.params.tagged}))}}_load(){const{accountId:t,withReplies:e,params:{tagged:a},dispatch:s}=this.props;s(Object(p.N)(t)),e||s(Object(l.p)(t,{tagged:a})),s(Object(R.d)(t)),s(Object(l.r)(t,{withReplies:e,tagged:a})),t===_.n&&s(Object(l.m)("account:"+_.n))}componentDidMount(){const{params:{acct:t},accountId:e,dispatch:a}=this.props;e?this._load():a(Object(p.T)(t))}componentDidUpdate(t){const{params:{acct:e,tagged:a},accountId:s,withReplies:c,dispatch:n}=this.props;t.accountId!==s&&s?this._load():t.params.acct!==e?n(Object(p.T)(e)):t.params.tagged!==a&&(c||n(Object(l.p)(s,{tagged:a})),n(Object(l.r)(s,{withReplies:c,tagged:a}))),t.accountId===_.n&&s!==_.n&&n(Object(l.o)("account:"+_.n))}componentWillUnmount(){const{dispatch:t,accountId:e}=this.props;e===_.n&&t(Object(l.o)("account:"+_.n))}render(){const{accountId:t,statusIds:e,featuredStatusIds:a,isLoading:s,hasMore:c,blockedBy:o,suspended:i,isAccount:d,hidden:u,multiColumn:r,remote:p,remoteUrl:l}=this.props;if(s&&e.isEmpty())return Object(n.a)(m.a,{},void 0,Object(n.a)(g.b,{}));if(!s&&!d)return Object(n.a)(m.a,{},void 0,Object(n.a)(I.a,{multiColumn:r}),Object(n.a)(w.a,{}));let O;const j=i||o||u;O=i?Object(n.a)(f.b,{id:"empty_column.account_suspended",defaultMessage:"Account suspended"}):u?Object(n.a)(y.a,{accountId:t}):o?Object(n.a)(f.b,{id:"empty_column.account_unavailable",defaultMessage:"Profile unavailable"}):p&&e.isEmpty()?Object(n.a)(T,{url:l}):Object(n.a)(f.b,{id:"empty_column.account_timeline",defaultMessage:"No posts found"});const M=p?Object(n.a)(T,{url:l}):null;return Object(n.a)(m.a,{},void 0,Object(n.a)(I.a,{multiColumn:r}),Object(n.a)(b.a,{prepend:Object(n.a)(h.a,{accountId:this.props.accountId,hideTabs:j,tagged:this.props.params.tagged}),alwaysPrepend:!0,append:M,scrollKey:"account_timeline",statusIds:j?v:e,featuredStatusIds:a,isLoading:s,hasMore:!j&&c,onLoadMore:this.handleLoadMore,emptyMessage:O,bindToDocument:!r,timelineId:"account"}))}}).propTypes={params:r.a.shape({acct:r.a.string,id:r.a.string,tagged:r.a.string}).isRequired,accountId:r.a.string,dispatch:r.a.func.isRequired,statusIds:d.a.list,featuredStatusIds:d.a.list,isLoading:r.a.bool,hasMore:r.a.bool,withReplies:r.a.bool,blockedBy:r.a.bool,isAccount:r.a.bool,suspended:r.a.bool,hidden:r.a.bool,remote:r.a.bool,remoteUrl:r.a.string,multiColumn:r.a.bool},s=c))||s}}]);
//# sourceMappingURL=account_timeline-77393216645b83eb2862.chunk.js.map