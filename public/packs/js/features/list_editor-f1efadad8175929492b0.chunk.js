(window.webpackJsonp=window.webpackJsonp||[]).push([[39],{823:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return K}));var s,n,i=a(0),c=a(1),o=a.n(c),d=a(2),l=a.n(d),r=a(15),u=a.n(r),b=a(13),p=a(16),h=a(4),m=a(20),v=a(35),j=a(34),O=a(50),g=a(18);const f=Object(h.f)({remove:{id:"lists.account.remove",defaultMessage:"Remove from list"},add:{id:"lists.account.add",defaultMessage:"Add to list"}});let C=Object(b.connect)((()=>{const e=Object(v.d)();return(t,a)=>{let{accountId:s,added:n}=a;return{account:e(t,s),added:void 0===n?t.getIn(["listEditor","accounts","items"]).includes(s):n}}}),((e,t)=>{let{accountId:a}=t;return{onRemove:()=>e(Object(m.K)(a)),onAdd:()=>e(Object(m.B)(a))}}))(s=Object(h.g)(((n=class extends p.a{render(){const{account:e,intl:t,onRemove:a,onAdd:s,added:n}=this.props;let c;return c=n?Object(i.a)(g.a,{icon:"times",title:t.formatMessage(f.remove),onClick:a}):Object(i.a)(g.a,{icon:"plus",title:t.formatMessage(f.add),onClick:s}),Object(i.a)("div",{className:"account"},void 0,Object(i.a)("div",{className:"account__wrapper"},void 0,Object(i.a)("div",{className:"account__display-name"},void 0,Object(i.a)("div",{className:"account__avatar-wrapper"},void 0,Object(i.a)(j.a,{account:e,size:36})),Object(i.a)(O.a,{account:e})),Object(i.a)("div",{className:"account__relationship"},void 0,c)))}}).propTypes={account:u.a.map.isRequired,intl:l.a.object.isRequired,onRemove:l.a.func.isRequired,onAdd:l.a.func.isRequired,added:l.a.bool},n.defaultProps={added:!1},s=n))||s)||s;var _,I=a(9),R=a.n(I),N=a(14);const y=Object(h.f)({search:{id:"lists.search",defaultMessage:"Search among people you follow"}});let k=Object(b.connect)((e=>({value:e.getIn(["listEditor","suggestions","value"])})),(e=>({onSubmit:t=>e(Object(m.H)(t)),onClear:()=>e(Object(m.E)()),onChange:t=>e(Object(m.D)(t))})))(_=Object(h.g)(_=class extends o.a.PureComponent{constructor(){super(...arguments),this.handleChange=e=>{this.props.onChange(e.target.value)},this.handleKeyUp=e=>{13===e.keyCode&&this.props.onSubmit(this.props.value)},this.handleClear=()=>{this.props.onClear()}}render(){const{value:e,intl:t}=this.props,a=e.length>0;return Object(i.a)("div",{className:"list-editor__search search"},void 0,Object(i.a)("label",{},void 0,Object(i.a)("span",{style:{display:"none"}},void 0,t.formatMessage(y.search)),Object(i.a)("input",{className:"search__input",type:"text",value:e,onChange:this.handleChange,onKeyUp:this.handleKeyUp,placeholder:t.formatMessage(y.search)})),Object(i.a)("div",{role:"button",tabIndex:"0",className:"search__icon",onClick:this.handleClear},void 0,Object(i.a)(N.a,{id:"search",className:R()({active:!a})}),Object(i.a)(N.a,{id:"times-circle","aria-label":t.formatMessage(y.search),className:R()({active:a})})))}})||_)||_;var w;const q=Object(h.f)({title:{id:"lists.edit.submit",defaultMessage:"Change title"}});let M=Object(b.connect)((e=>({value:e.getIn(["listEditor","title"]),disabled:!e.getIn(["listEditor","isChanged"])||!e.getIn(["listEditor","title"])})),(e=>({onChange:t=>e(Object(m.C)(t)),onSubmit:()=>e(Object(m.P)(!1))})))(w=Object(h.g)(w=class extends o.a.PureComponent{constructor(){super(...arguments),this.handleChange=e=>{this.props.onChange(e.target.value)},this.handleSubmit=e=>{e.preventDefault(),this.props.onSubmit()},this.handleClick=()=>{this.props.onSubmit()}}render(){const{value:e,disabled:t,intl:a}=this.props,s=a.formatMessage(q.title);return Object(i.a)("form",{className:"column-inline-form",onSubmit:this.handleSubmit},void 0,Object(i.a)("input",{className:"setting-text",value:e,onChange:this.handleChange}),Object(i.a)(g.a,{disabled:t,icon:"check",title:s,onClick:this.handleClick}))}})||w)||w;var x,S,E=a(45),A=a(24),z=a.n(A);let K=Object(b.connect)((e=>({accountIds:e.getIn(["listEditor","accounts","items"]),searchAccountIds:e.getIn(["listEditor","suggestions","items"])})),(e=>({onInitialize:t=>e(Object(m.O)(t)),onClear:()=>e(Object(m.E)()),onReset:()=>e(Object(m.M)())})))(x=Object(h.g)(((S=class extends p.a{componentDidMount(){const{onInitialize:e,listId:t}=this.props;e(t)}componentWillUnmount(){const{onReset:e}=this.props;e()}render(){const{accountIds:e,searchAccountIds:t,onClear:a}=this.props,s=t.size>0;return Object(i.a)("div",{className:"modal-root__modal list-editor"},void 0,Object(i.a)(M,{}),Object(i.a)(k,{}),Object(i.a)("div",{className:"drawer__pager"},void 0,Object(i.a)("div",{className:"drawer__inner list-editor__accounts"},void 0,e.map((e=>Object(i.a)(C,{accountId:e,added:!0},e)))),s&&Object(i.a)("div",{role:"button",tabIndex:"-1",className:"drawer__backdrop",onClick:a}),Object(i.a)(E.a,{defaultStyle:{x:-100},style:{x:z()(s?0:-100,{stiffness:210,damping:20})}},void 0,(e=>{let{x:a}=e;return Object(i.a)("div",{className:"drawer__inner backdrop",style:{transform:0===a?null:`translateX(${a}%)`,visibility:-100===a?"hidden":"visible"}},void 0,t.map((e=>Object(i.a)(C,{accountId:e},e))))}))))}}).propTypes={listId:l.a.string.isRequired,onClose:l.a.func.isRequired,intl:l.a.object.isRequired,onInitialize:l.a.func.isRequired,onClear:l.a.func.isRequired,onReset:l.a.func.isRequired,accountIds:u.a.list.isRequired,searchAccountIds:u.a.list.isRequired},x=S))||x)||x}}]);
//# sourceMappingURL=list_editor-f1efadad8175929492b0.chunk.js.map